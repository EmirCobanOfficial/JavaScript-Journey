<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Countries</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f8fafc;
      }
      .main-container {
        border-radius: 1rem;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
        padding: 2rem 2rem 1rem 2rem;
        margin-top: 2rem;
      }
      .card {
        border-radius: 1rem;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.07);
        transition: transform 0.2s;
      }
      .card:hover {
        transform: translateY(-4px) scale(1.02);
      }
      .card-img-top {
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
        height: 160px;
        object-fit: cover;
      }
      @media (max-width: 767px) {
        .col-3 {
          flex: 0 0 100%;
          max-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container main-container bg-white text-dark">
      <h1 class="text-center mb-4 display-5 fw-bold">üåç Countries</h1>
      <p class="text-center lead">
        This page displays information about various countries using the
        <b>REST Countries API</b>.
      </p>
      <p class="text-center">
        The data includes the country's <b>name</b>, <b>population</b>,
        <b>capital city</b>, and <b>languages spoken</b>.
      </p>
      <p class="text-center">
        The information is fetched asynchronously and displayed dynamically.
      </p>
      <p class="text-center mb-4">
        The countries displayed include:
        <span class="text-secondary small"
          >Turkey, Germany, France, Italy, Spain, Japan, South Korea, United
          States, Canada, Brazil, Argentina, Australia, New Zealand, South
          Africa, Nigeria, India, China, Russia, United Kingdom, Sweden, Norway,
          Finland, Denmark, Netherlands, Belgium, Switzerland, Austria,
          Portugal, Greece, Poland, Czech Republic, Hungary, Romania, Bulgaria,
          Serbia, Croatia, Slovakia, Slovenia, Ukraine, Belarus, Estonia,
          Latvia, Lithuania, Iceland.</span
        >
      </p>
      <div class="row g-4"></div>
    </div>

    <script>
      function displayCountry(country) {
        const request = new XMLHttpRequest();
        request.open("GET", "https://restcountries.com/v3.1/name/" + country);
        request.send();
        request.addEventListener("load", function () {
          const data = JSON.parse(this.responseText);
          setCountry(data[0]);
        });
      }

      function setCountry(data) {
        const html = `
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex">
          <div class="card h-100 w-100">
            <img src="${data.flags.png}" class="card-img-top" alt="${
          data.name.common
        } flag">
            <div class="card-body">
              <h5 class="card-title fw-semibold">${data.name.common}</h5>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">Population: <b>${(
                  data.population / 1000000
                ).toFixed(1)}M</b></li>
                <li class="list-group-item">Capital: <b>${
                  data.capital ? data.capital[0] : "N/A"
                }</b></li>
                <li class="list-group-item">Languages: <b>${
                  data.languages
                    ? Object.values(data.languages).join(", ")
                    : "N/A"
                }</b></li>
              </ul>
            </div>
          </div>
        </div>
        `;
        document
          .querySelector(".container .row")
          .insertAdjacentHTML("beforeend", html);
      }

      displayCountry("turkey");
      displayCountry("germany");
      displayCountry("france");
      displayCountry("italy");
      displayCountry("spain");
      displayCountry("japan");
      displayCountry("south korea");
      displayCountry("united states");
      displayCountry("canada");
      displayCountry("brazil");
      displayCountry("argentina");
      displayCountry("australia");
      displayCountry("new zealand");
      displayCountry("south africa");
      displayCountry("nigeria");
      displayCountry("india");
      displayCountry("china");
      displayCountry("russia");
      displayCountry("united kingdom");
      displayCountry("sweden");
      displayCountry("norway");
      displayCountry("finland");
      displayCountry("denmark");
      displayCountry("netherlands");
      displayCountry("belgium");
      displayCountry("switzerland");
      displayCountry("austria");
      displayCountry("portugal");
      displayCountry("greece");
      displayCountry("poland");
      displayCountry("czech republic");
      displayCountry("hungary");
      displayCountry("romania");
      displayCountry("bulgaria");
      displayCountry("serbia");
      displayCountry("croatia");
      displayCountry("slovakia");
      displayCountry("slovenia");
      displayCountry("ukraine");
      displayCountry("belarus");
      displayCountry("estonia");
      displayCountry("latvia");
      displayCountry("lithuania");
      displayCountry("iceland");
    </script>
  </body>
</html>
